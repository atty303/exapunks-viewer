(function(t){function e(e){for(var i,a,s=e[0],l=e[1],u=e[2],f=0,h=[];f<s.length;f++)a=s[f],r[a]&&h.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},1:function(t,e){},2:function(t,e){},8335:function(t,e,n){},"8a85":function(t,e,n){"use strict";var i=n("8335"),r=n.n(i);r.a},a4ac:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],a=n("2877"),s={},l=Object(a["a"])(s,r,o,!1,null,null,null);l.options.__file="App.vue";var u=l.exports,c=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-layout",{attrs:{view:"hHh Lpr fFf"}},[n("q-layout-header",[n("q-toolbar",{attrs:{color:"primary",glossy:"mat"===t.$q.theme,inverted:"ios"===t.$q.theme}},[n("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),n("q-toolbar-title",[t._v("\n        EXAPUNKS Solution Viewer\n      ")])],1)],1),n("q-layout-drawer",{attrs:{side:"left","content-class":"mat"===t.$q.theme?"bg-grey-2":null},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[n("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[n("q-item",[n("q-item-side",{attrs:{icon:"input"}}),n("q-item-main",{attrs:{label:"Upload solution files"}}),n("Uploader")],1),n("q-item",{nativeOn:{click:function(e){t.download()}}},[n("q-item-side",{attrs:{icon:"get_app"}}),n("q-item-main",{attrs:{label:"Download as markdown"}})],1),t.problems.length>0?n("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[n("q-list-header",[t._v("Solutions")]),t._l(t.problems,function(e){return n("q-item",{on:{click:function(n){t.jumpToProblem(e.fileId)}}},[n("q-item-main",[n("q-item-tile",{attrs:{label:""}},[t._v(t._s(e.fileId))]),n("q-item-tile",{attrs:{sublabel:""}},[t._v(t._s(e.name))])],1)],1)})],2):t._e()],1)],1),n("q-page-container",[n("router-view")],1)],1)},h=[],d=(n("96cf"),n("3040")),p=n("c665"),m=n("dc0a"),b=n("aa9a"),y=n("d328"),v=n("11d9"),_=n("9ab4"),w=n("60a3"),O=n("76e9"),g=n.n(O),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{staticClass:"q-uploader-input absolute-full cursor-pointer",attrs:{type:"file",accept:".solution",multiple:""},on:{change:t.addFiles}})},j=[],k=(n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),n("7514"),n("7c39")),I=n.n(k),x=function(){function t(){Object(p["a"])(this,t),this.problems=[]}return Object(b["a"])(t,[{key:"addSolutionFile",value:function(t){if(this.findBySolutionFile(t))return!1;var e=this.findByFileId(t.solution.fileId);return e||(e=new C(t.solution.fileId,[t]),this.problems.push(e)),e.add(t),!0}},{key:"findByFileId",value:function(t){return this.problems.find(function(e){return e.fileId===t})}},{key:"findBySolutionFile",value:function(t){return this.problems.find(function(e){return e.hasSolutionFile(t)})}},{key:"generateMarkdownZip",value:function(){var t=new I.a;return this.problems.forEach(function(e){e.solutionFiles.forEach(function(e){t.file(e.markdownFilename,e.codeMarkdown)})}),t.generateAsync({type:"uint8array"})}},{key:"isEmpty",get:function(){return 0===this.problems.length}}]),t}(),C=(n("20d6"),function(){function t(e,n){Object(p["a"])(this,t),this.fileId=e,this.solutionFiles=n}return Object(b["a"])(t,[{key:"hasSolutionFile",value:function(t){return this.solutionFiles.findIndex(function(e){return e.fileName===t.fileName})>=0}},{key:"add",value:function(t){this.hasSolutionFile(t)||this.solutionFiles.push(t)}},{key:"name",get:function(){return this.solutionFiles[0].name}}]),t}()),F=(n("4917"),n("a481"),n("0485")),q=(n("0d6d"),function(){function t(t,e,n){this._io=t,this._parent=e,this._root=n||this,this._read()}t.WinValueType=Object.freeze({CYCLES:0,SIZE:1,ACTIVITY:2,0:"CYCLES",1:"SIZE",2:"ACTIVITY"}),t.EditorDisplayStatus=Object.freeze({UNROLLED:0,COLLAPSED:1,0:"UNROLLED",1:"COLLAPSED"}),t.MemoryScope=Object.freeze({GLOBAL:0,LOCAL:1,0:"GLOBAL",1:"LOCAL"}),t.prototype._read=function(){this.magic=this._io.ensureFixedContents([239,3,0,0]),this.fileId=new e(this._io,this,this._root),this.name=new e(this._io,this,this._root),this.competitionWins=this._io.readU4le(),this.redshiftProgramSize=this._io.readU4le(),this.winStatsCount=this._io.readU4le(),this.winStats=new Array(this.winStatsCount);for(var t=0;t<this.winStatsCount;t++)this.winStats[t]=new n(this._io,this,this._root);this.exaInstancesCount=this._io.readU4le(),this.exaInstances=new Array(this.exaInstancesCount);for(t=0;t<this.exaInstancesCount;t++)this.exaInstances[t]=new i(this._io,this,this._root)};var e=t.Pstr=function(){function t(t,e,n){this._io=t,this._parent=e,this._root=n||this,this._read()}return t.prototype._read=function(){this.length=this._io.readU4le(),this.string=F["KaitaiStream"].bytesToStr(this._io.readBytes(this.length),"ASCII")},t}(),n=t.WinValuePair=function(){function t(t,e,n){this._io=t,this._parent=e,this._root=n||this,this._read()}return t.prototype._read=function(){this.type=this._io.readU4le(),this.value=this._io.readU4le()},t}(),i=t.ExaInstance=function(){function t(t,e,n){this._io=t,this._parent=e,this._root=n||this,this._read()}return t.prototype._read=function(){this._unnamed0=this._io.ensureFixedContents([10]),this.name=new e(this._io,this,this._root),this.code=new e(this._io,this,this._root),this.editorDisplayStatus=this._io.readU1(),this.memoryScope=this._io.readU1(),this.bitmap=this._io.readBytes(100)},t}();return t}()),E=n("2ef0"),L=function(){function t(e){Object(p["a"])(this,t),this.struct=e}return Object(b["a"])(t,[{key:"name",get:function(){return this.struct.name.string}},{key:"code",get:function(){return this.struct.code.string}},{key:"memoryScope",get:function(){return q.MemoryScope[this.struct.memoryScope]}},{key:"editorDisplayStatus",get:function(){return q.EditorDisplayStatus[this.struct.editorDisplayStatus]}}]),t}(),A=E["template"]("\n# <%= fileId %>: <%= name %>\n<% if (winStat) { %>\n> **CYCLES**  : <%= winStat.cycles %>\n> **SIZE**    : <%= winStat.size %>\n> **ACTIVITY**: <%= winStat.activity %>\n<% } else { %>\n> **UNVERIFIED**\n<% } %>\n<% _.each(exaInstances, function(exa) { %>\n## <%= exa.name %> (<%= exa.memoryScope %>)\n\n```\n<%= exa.code %>\n```\n<% }) %>\n"),D=function(){function t(e){Object(p["a"])(this,t),this.struct=e,this.exaInstances=e.exaInstances.map(function(t){return new L(t)})}return Object(b["a"])(t,[{key:"fileId",get:function(){return this.struct.fileId.string}},{key:"name",get:function(){return this.struct.name.string}},{key:"winStat",get:function(){if(3===this.struct.winStatsCount)return{cycles:this.struct.winStats[q.WinValueType.CYCLES].value,size:this.struct.winStats[q.WinValueType.SIZE].value,activity:this.struct.winStats[q.WinValueType.ACTIVITY].value}}},{key:"competitionWins",get:function(){return this.struct.competitionWins}},{key:"redshiftProgramSize",get:function(){return this.struct.redshiftProgramSize}},{key:"codeMarkdown",get:function(){return A({fileId:this.fileId,name:this.name,winStat:this.winStat,exaInstances:this.exaInstances})}}]),t}(),T=function(){function t(e,n){Object(p["a"])(this,t),this.fileName=e;try{this.solution=new D(new q(new F["KaitaiStream"](n)))}catch(t){throw new Error('Invalid file "'.concat(e,'": ').concat(t))}var i=this.fileName.match(/^(.+)-(\d+)\.solution$/i);if(!i)throw new Error('Invalid file name: "'.concat(this.fileName,'"'));this.name=i[1],this.index=parseInt(i[2],10)}return Object(b["a"])(t,[{key:"markdownFilename",get:function(){return this.fileName.replace(/\.solution$/i,".md")}},{key:"codeMarkdown",get:function(){return this.solution.codeMarkdown}}]),t}(),P=function(t){function e(){return Object(p["a"])(this,e),Object(y["a"])(this,Object(v["a"])(e).apply(this,arguments))}return Object(b["a"])(e,[{key:"addFiles",value:function(t){var e=this,n=!0,i=!1,r=void 0;try{for(var o,a=function(){var t=o.value,n=new FileReader;n.onload=function(n){var i=new T(t.name,n.target.result);e.$store.dispatch("addFile",i)},n.readAsArrayBuffer(t)},s=t.target.files[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a()}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}}},{key:"cancelFile",value:function(t){}}]),Object(m["a"])(e,t),e}(w["c"]);P=_["a"]([Object(w["a"])({components:{}})],P);var U=P,$=U,M=Object(a["a"])($,S,j,!1,null,null,null);M.options.__file="Uploader.vue";var N=M.exports,V=function(t){function e(){var t;return Object(p["a"])(this,e),t=Object(y["a"])(this,Object(v["a"])(e).apply(this,arguments)),t.leftDrawerOpen=t.$q.platform.is.desktop,t}return Object(b["a"])(e,[{key:"jumpToProblem",value:function(t){window.location.hash=t}},{key:"download",value:function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.state.problemCollection.generateMarkdownZip();case 2:e=t.sent,g.a.saveAs(new Blob([e]),"exapunks-solutions.zip");case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"problems",get:function(){return this.$store.getters.problems}}]),Object(m["a"])(e,t),e}(w["c"]);V=_["a"]([Object(w["a"])({components:{Uploader:N}})],V);var B=V,z=B,W=Object(a["a"])(z,f,h,!1,null,null,null);W.options.__file="Default.vue";var Y=W.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"flex flex-center"},[n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},t._l(t.allFiles,function(t){return n("Solution",{key:t.name,attrs:{solutionFile:t}})}))])])])},Z=[],K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{staticClass:"bigger q-ma-md",attrs:{inline:""}},[n("q-card-title",[t._v("\n    "+t._s(t.solutionFile.name)+"\n    "),n("q-icon",{attrs:{slot:"right",name:"more_vert"},slot:"right"},[n("q-popover",[n("q-list",{staticClass:"no-border",attrs:{link:""}},[n("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}]},[n("q-item-main",{attrs:{label:"Remove Solution"}})],1)],1)],1)],1)],1),n("q-card-main",[n("prism",{attrs:{language:"markdown"}},[t._v(t._s(t.markdown))])],1)],1)},G=[],H=n("8d51"),J=n.n(H),X=function(t){function e(){return Object(p["a"])(this,e),Object(y["a"])(this,Object(v["a"])(e).apply(this,arguments))}return Object(b["a"])(e,[{key:"markdown",get:function(){return this.solutionFile.solution.codeMarkdown}}]),Object(m["a"])(e,t),e}(w["c"]);_["a"]([Object(w["b"])()],X.prototype,"solutionFile",void 0),X=_["a"]([Object(w["a"])({components:{Prism:J.a}})],X);var Q=X,tt=Q,et=(n("8a85"),Object(a["a"])(tt,K,G,!1,null,null,null));et.options.__file="Solution.vue";var nt=et.exports,it=function(t){function e(){return Object(p["a"])(this,e),Object(y["a"])(this,Object(v["a"])(e).apply(this,arguments))}return Object(b["a"])(e,[{key:"allFiles",get:function(){return this.$store.getters.allFiles}}]),Object(m["a"])(e,t),e}(w["c"]);it=_["a"]([Object(w["a"])({components:{Solution:nt}})],it);var rt=it,ot=rt,at=Object(a["a"])(ot,R,Z,!1,null,null,null);at.options.__file="Home.vue";var st=at.exports;i["default"].use(c["a"]);var lt=new c["a"]({routes:[{path:"/",component:Y,children:[{path:"",name:"home",component:st}]}]}),ut=n("2f62");i["default"].use(ut["a"]);var ct=new ut["a"].Store({state:{problemCollection:new x},getters:{allFiles:function(t){return t.problemCollection.problems.flatMap(function(t){return t.solutionFiles})},problems:function(t){return t.problemCollection.problems}},mutations:{addFile:function(t,e){t.problemCollection.addSolutionFile(e)}},actions:{addFile:function(t,e){t.commit("addFile",e)}}}),ft=(n("a4ac"),n("1258")),ht=(n("7e57"),n("e083"));n("c197"),n("826c"),n("92bf");i["default"].use(ht["a"],{config:{},i18n:ft["a"]}),i["default"].config.productionTip=!1,new i["default"]({router:lt,store:ct,render:function(t){return t(u)}}).$mount("#app")}});
//# sourceMappingURL=app.3b122dab.js.map